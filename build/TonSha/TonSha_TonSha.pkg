{"name":"TonSha","code":"te6ccgECFgEABQEAAiz/AI6I9KQT9LzyyAvtUyCOgTDh7UPZAQICA3jgAwQE6AHQctch0gDSAPpAIRA0UGZvBPhhAvhi7UTQ0gABjhL6QPQE1AHQ9AT0BDAQJBAjbBSY+kABAdFtbW3iBZJfBeBwJNdJIMIflTEE0x8F3iGCENAP7Tu64wIhghAn0+K6uuMCIYIQ8UlqObrjAiGCEC8qpgy6DQ4PEAIBSAUGAVm5Ct7UTQ0gABjhL6QPQE1AHQ9AT0BDAQJBAjbBSY+kABAdFtbW3iVQPbPGxBgMAVWzontRNDSAAGOEvpA9ATUAdD0BPQEMBAkECNsFJj6QAEB0W1tbeLbPGxBgBwIBIAgJAAIjAVmtxfaiaGkAAMcJfSB6AmoA6HoCegIYCBIIEbYKTH0gAIDotra28SqB7Z42IMAKAVmsInaiaGkAAMcJfSB6AmoA6HoCegIYCBIIEbYKTH0gAIDotra28SqB7Z42IMALAEKBAQFTAlAzQTP0DG+hlAHXADCSW23iIG6SMHDgIG7y0IAAQIEBASQCcUEz9AxvoZQB1wAwkltt4iBukjBw4CBu8tCAAECBAQEjAnFBM/QMb6GUAdcAMJJbbeIgbpIwcOAgbvLQgAH8WwPTP9P/0//TP9P/MCWBAQEmcUEz9AxvoZQB1wAwkltt4iBukjB/lyBu8tCAwADijkVfBHHIWYIQkqedZFADyx/LP8sHyciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AEADyH8BygBVMFA0zvQAAcj0ABL0AM3J7VTgJ4EBASVxEQCAWwPTPzCBOMb4QiTHBfL0gQEBAX9xIW6VW1n0WjCYyAHPAEEz9ELiQAPIfwHKAFUwUDTO9AAByPQAEvQAzcntVACCWwPT/zCBOMb4QiTHBfL0E4EBAQF/cSFulVtZ9FowmMgBzwBBM/RC4lADyH8BygBVMFA0zvQAAcj0ABL0AM3J7VQA+I5AWwPTPzCBOMb4QiTHBfL0gQEBAXBxIW6VW1n0WjCYyAHPAEEz9ELiQAPIfwHKAFUwUDTO9AAByPQAEvQAzcntVOA1wAAEwSEUsI4p+ELIz4UIznDPC27JgEL7AEADyH8BygBVMFA0zvQAAcj0ABL0AM3J7VTgXwTywIIB/kEz9AxvoZQB1wAwkltt4iBukjB/lyBu8tCAwADijkVfBHLIWYIQkqedZFADyx/LP8sHyciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AEADyH8BygBVMFA0zvQAAcj0ABL0AM3J7VTggQEBVFkAUnBBM/QMb6GUAdcAMJJbbeJwIW4SA9yzljAgbvLQgJEx4lIgu45FXwRzyFmCEJKnnWRQA8sfyz/LB8nIgljAAAAAAAAAAAAAAAABActnzMlw+wBAA8h/AcoAVTBQNM70AAHI9AAS9ADNye1U4BBWXlJURokp2zxQBr3jAoEBAVQVAFRlgBMUFQA2yBTLPxLL/8v/yz/J0JuTINdKkdXoaPkEANoRAIo1AnTIWYIQkqedZFADyx/LP8sHyciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AEEzyH8BygBVMFA0zvQAAcj0ABL0AM3J7VQArCFulVtZ9FowmMgBzwBBM/RC4lA1yFmCEOufHtVQA8sfyz/LP8nIgljAAAAAAAAAAAAAAAABActnzMlw+wBQI8h/AcoAVTBQNM70AAHI9AAS9ADNye1U","abi":"{\"name\":\"TonSha\",\"types\":[{\"name\":\"DataSize\",\"header\":null,\"fields\":[{\"name\":\"cells\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bits\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"refs\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"SignedBundle\",\"header\":null,\"fields\":[{\"name\":\"signature\",\"type\":{\"kind\":\"simple\",\"type\":\"fixed-bytes\",\"optional\":false,\"format\":64}},{\"name\":\"signedData\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounceable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"MessageParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"DeployParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"init\",\"type\":{\"kind\":\"simple\",\"type\":\"StateInit\",\"optional\":false}}]},{\"name\":\"StdAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":8}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"VarAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":32}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"BasechainAddress\",\"header\":null,\"fields\":[{\"name\":\"hash\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"VerifyReceipt\",\"header\":3490704699,\"fields\":[{\"name\":\"hw_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"fw_hash\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"ex_hash\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"counter\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"digest\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"AuthorizeDevice\",\"header\":668197562,\"fields\":[{\"name\":\"hw_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ApproveFirmware\",\"header\":4048120377,\"fields\":[{\"name\":\"fw_hash\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"RevokeDevice\",\"header\":791324172,\"fields\":[{\"name\":\"hw_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"VerificationPassed\",\"header\":3953073877,\"fields\":[{\"name\":\"hw_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"counter\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"VerificationFailed\",\"header\":2460458340,\"fields\":[{\"name\":\"hw_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"reason\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}}]},{\"name\":\"TonSha$Data\",\"header\":null,\"fields\":[{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"authorized_devices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"bool\"}},{\"name\":\"approved_firmware\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"bool\"}},{\"name\":\"counters\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"int\"}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"empty\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"VerifyReceipt\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"AuthorizeDevice\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ApproveFirmware\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"RevokeDevice\"}}],\"getters\":[{\"name\":\"isAuthorized\",\"methodId\":104516,\"arguments\":[{\"name\":\"hw_id\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"isApprovedFirmware\",\"methodId\":118957,\"arguments\":[{\"name\":\"fw_hash\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"getCounter\",\"methodId\":103307,\"arguments\":[{\"name\":\"hw_id\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"getOwner\",\"methodId\":102025,\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack underflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"11\":{\"message\":\"'Unknown' error\"},\"12\":{\"message\":\"Fatal error\"},\"13\":{\"message\":\"Out of gas error\"},\"14\":{\"message\":\"Virtualization error\"},\"32\":{\"message\":\"Action list is invalid\"},\"33\":{\"message\":\"Action list is too long\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"35\":{\"message\":\"Invalid source address in outbound message\"},\"36\":{\"message\":\"Invalid destination address in outbound message\"},\"37\":{\"message\":\"Not enough Toncoin\"},\"38\":{\"message\":\"Not enough extra currencies\"},\"39\":{\"message\":\"Outbound message does not fit into a cell after rewriting\"},\"40\":{\"message\":\"Cannot process a message\"},\"41\":{\"message\":\"Library reference is null\"},\"42\":{\"message\":\"Library change action error\"},\"43\":{\"message\":\"Exceeded maximum number of cells in the library or the maximum depth of the Merkle tree\"},\"50\":{\"message\":\"Account state size exceeded limits\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid standard address\"},\"138\":{\"message\":\"Not a basechain address\"},\"14534\":{\"message\":\"Not owner\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\"]}","init":{"kind":"direct","args":[{"name":"owner","type":{"kind":"simple","type":"address","optional":false}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":null}},"sources":{"contracts/ton_sha.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CgovLyBNZXNzYWdlcwptZXNzYWdlIFZlcmlmeVJlY2VpcHQgewogICAgaHdfaWQ6IEludCBhcyB1aW50NjQ7CiAgICBmd19oYXNoOiBJbnQgYXMgdWludDI1NjsKICAgIGV4X2hhc2g6IEludCBhcyB1aW50MjU2OwogICAgY291bnRlcjogSW50IGFzIHVpbnQ2NDsKICAgIGRpZ2VzdDogSW50IGFzIHVpbnQyNTY7Cn0KCm1lc3NhZ2UgQXV0aG9yaXplRGV2aWNlIHsKICAgIGh3X2lkOiBJbnQgYXMgdWludDY0Owp9CgptZXNzYWdlIEFwcHJvdmVGaXJtd2FyZSB7CiAgICBmd19oYXNoOiBJbnQgYXMgdWludDI1NjsKfQoKbWVzc2FnZSBSZXZva2VEZXZpY2UgewogICAgaHdfaWQ6IEludCBhcyB1aW50NjQ7Cn0KCm1lc3NhZ2UgVmVyaWZpY2F0aW9uUGFzc2VkIHsKICAgIGh3X2lkOiBJbnQgYXMgdWludDY0OwogICAgY291bnRlcjogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBWZXJpZmljYXRpb25GYWlsZWQgewogICAgaHdfaWQ6IEludCBhcyB1aW50NjQ7CiAgICByZWFzb246IEludCBhcyB1aW50ODsKfQoKY29udHJhY3QgVG9uU2hhIHsKCiAgICBvd25lcjogQWRkcmVzczsKICAgIGF1dGhvcml6ZWRfZGV2aWNlczogbWFwPEludCwgQm9vbD47CiAgICBhcHByb3ZlZF9maXJtd2FyZTogbWFwPEludCwgQm9vbD47CiAgICBjb3VudGVyczogbWFwPEludCwgSW50PjsKCiAgICBpbml0KG93bmVyOiBBZGRyZXNzKSB7CiAgICAgICAgc2VsZi5vd25lciA9IG93bmVyOwogICAgfQoKICAgIHJlY2VpdmUoKSB7CiAgICAgICAgY2FzaGJhY2soc2VuZGVyKCkpOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBWZXJpZnlSZWNlaXB0KSB7CiAgICAgICAgLy8gR2F0ZSAxOiBEZXZpY2UgYXV0aG9yaXplZAogICAgICAgIGxldCBhdXRoOiBCb29sPyA9IHNlbGYuYXV0aG9yaXplZF9kZXZpY2VzLmdldChtc2cuaHdfaWQpOwogICAgICAgIGlmIChhdXRoID09IG51bGwgfHwgYXV0aCEhID09IGZhbHNlKSB7CiAgICAgICAgICAgIGVtaXQoVmVyaWZpY2F0aW9uRmFpbGVkeyBod19pZDogbXNnLmh3X2lkLCByZWFzb246IDEgfS50b0NlbGwoKSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIEdhdGUgMjogRmlybXdhcmUgYXBwcm92ZWQKICAgICAgICBsZXQgZnc6IEJvb2w/ID0gc2VsZi5hcHByb3ZlZF9maXJtd2FyZS5nZXQobXNnLmZ3X2hhc2gpOwogICAgICAgIGlmIChmdyA9PSBudWxsIHx8IGZ3ISEgPT0gZmFsc2UpIHsKICAgICAgICAgICAgZW1pdChWZXJpZmljYXRpb25GYWlsZWR7IGh3X2lkOiBtc2cuaHdfaWQsIHJlYXNvbjogMiB9LnRvQ2VsbCgpKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8gR2F0ZSAzOiBDb3VudGVyIHN0cmljdGx5IGluY3JlYXNpbmcgKHJlcGxheSBwcm90ZWN0aW9uKQogICAgICAgIGxldCBsYXN0OiBJbnQ/ID0gc2VsZi5jb3VudGVycy5nZXQobXNnLmh3X2lkKTsKICAgICAgICBsZXQgbGFzdFZhbDogSW50ID0gMDsKICAgICAgICBpZiAobGFzdCAhPSBudWxsKSB7CiAgICAgICAgICAgIGxhc3RWYWwgPSBsYXN0ISE7CiAgICAgICAgfQogICAgICAgIGlmIChtc2cuY291bnRlciA8PSBsYXN0VmFsKSB7CiAgICAgICAgICAgIGVtaXQoVmVyaWZpY2F0aW9uRmFpbGVkeyBod19pZDogbXNnLmh3X2lkLCByZWFzb246IDMgfS50b0NlbGwoKSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIEdhdGUgNDogRGlnZXN0IG11c3QgbWF0Y2ggU0hBLTI1Nihod19pZCArKyBmd19oYXNoICsrIGV4X2hhc2ggKysgY291bnRlcikKICAgICAgICBsZXQgZXhwZWN0ZWQ6IEludCA9IHNlbGYuY29tcHV0ZURpZ2VzdChtc2cuaHdfaWQsIG1zZy5md19oYXNoLCBtc2cuZXhfaGFzaCwgbXNnLmNvdW50ZXIpOwogICAgICAgIGlmIChleHBlY3RlZCAhPSBtc2cuZGlnZXN0KSB7CiAgICAgICAgICAgIGVtaXQoVmVyaWZpY2F0aW9uRmFpbGVkeyBod19pZDogbXNnLmh3X2lkLCByZWFzb246IDQgfS50b0NlbGwoKSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIEFsbCBmb3VyIGdhdGVzIHBhc3NlZCDigJQgdXBkYXRlIGNvdW50ZXIgYW5kIGVtaXQgc3VjY2VzcwogICAgICAgIHNlbGYuY291bnRlcnMuc2V0KG1zZy5od19pZCwgbXNnLmNvdW50ZXIpOwogICAgICAgIGVtaXQoVmVyaWZpY2F0aW9uUGFzc2VkeyBod19pZDogbXNnLmh3X2lkLCBjb3VudGVyOiBtc2cuY291bnRlciB9LnRvQ2VsbCgpKTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogQXV0aG9yaXplRGV2aWNlKSB7CiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLm93bmVyLCAiTm90IG93bmVyIik7CiAgICAgICAgc2VsZi5hdXRob3JpemVkX2RldmljZXMuc2V0KG1zZy5od19pZCwgdHJ1ZSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IEFwcHJvdmVGaXJtd2FyZSkgewogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5vd25lciwgIk5vdCBvd25lciIpOwogICAgICAgIHNlbGYuYXBwcm92ZWRfZmlybXdhcmUuc2V0KG1zZy5md19oYXNoLCB0cnVlKTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogUmV2b2tlRGV2aWNlKSB7CiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLm93bmVyLCAiTm90IG93bmVyIik7CiAgICAgICAgc2VsZi5hdXRob3JpemVkX2RldmljZXMuc2V0KG1zZy5od19pZCwgZmFsc2UpOwogICAgfQoKICAgIGZ1biBjb21wdXRlRGlnZXN0KGh3X2lkOiBJbnQsIGZ3X2hhc2g6IEludCwgZXhfaGFzaDogSW50LCBjb3VudGVyOiBJbnQpOiBJbnQgewogICAgICAgIGxldCBiOiBCdWlsZGVyID0gYmVnaW5DZWxsKCk7CiAgICAgICAgYiA9IGIuc3RvcmVVaW50KGh3X2lkLCA2NCk7CiAgICAgICAgYiA9IGIuc3RvcmVVaW50KGZ3X2hhc2gsIDI1Nik7CiAgICAgICAgYiA9IGIuc3RvcmVVaW50KGV4X2hhc2gsIDI1Nik7CiAgICAgICAgYiA9IGIuc3RvcmVVaW50KGNvdW50ZXIsIDY0KTsKICAgICAgICBsZXQgczogU2xpY2UgPSBiLmVuZENlbGwoKS5iZWdpblBhcnNlKCk7CiAgICAgICAgcmV0dXJuIHNoYTI1NihzKTsKICAgIH0KCiAgICBnZXQgZnVuIGlzQXV0aG9yaXplZChod19pZDogSW50KTogQm9vbCB7CiAgICAgICAgbGV0IHY6IEJvb2w/ID0gc2VsZi5hdXRob3JpemVkX2RldmljZXMuZ2V0KGh3X2lkKTsKICAgICAgICBpZiAodiA9PSBudWxsKSB7IHJldHVybiBmYWxzZTsgfQogICAgICAgIHJldHVybiB2ISE7CiAgICB9CgogICAgZ2V0IGZ1biBpc0FwcHJvdmVkRmlybXdhcmUoZndfaGFzaDogSW50KTogQm9vbCB7CiAgICAgICAgbGV0IHY6IEJvb2w/ID0gc2VsZi5hcHByb3ZlZF9maXJtd2FyZS5nZXQoZndfaGFzaCk7CiAgICAgICAgaWYgKHYgPT0gbnVsbCkgeyByZXR1cm4gZmFsc2U7IH0KICAgICAgICByZXR1cm4gdiEhOwogICAgfQoKICAgIGdldCBmdW4gZ2V0Q291bnRlcihod19pZDogSW50KTogSW50IHsKICAgICAgICBsZXQgdjogSW50PyA9IHNlbGYuY291bnRlcnMuZ2V0KGh3X2lkKTsKICAgICAgICBpZiAodiA9PSBudWxsKSB7IHJldHVybiAwOyB9CiAgICAgICAgcmV0dXJuIHYhITsKICAgIH0KCiAgICBnZXQgZnVuIGdldE93bmVyKCk6IEFkZHJlc3MgewogICAgICAgIHJldHVybiBzZWxmLm93bmVyOwogICAgfQp9Cg=="},"compiler":{"name":"tact","version":"1.6.13","parameters":"{\"entrypoint\":\"contracts/ton_sha.tact\",\"options\":{\"debug\":false,\"external\":false}}"}}