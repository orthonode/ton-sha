{"name":"TonSha","code":"te6ccgECFQEABPUAAiz/AI6I9KQT9LzyyAvtUyCOgTDh7UPZAQICA3jgAwQE6AHQctch0gDSAPpAIRA0UGZvBPhhAvhi7UTQ0gABjhL6QPQE1AHQ9AT0BDAQJBAjbBSY+kABAdFtbW3iBZJfBeBwJNdJIMIflTEE0x8F3iGCENAP7Tu64wIhghAn0+K6uuMCIYIQ8UlqObrjAiGCEC8qpgy6DQ4PEAIBSAUGAVm5Ct7UTQ0gABjhL6QPQE1AHQ9AT0BDAQJBAjbBSY+kABAdFtbW3iVQPbPGxBgMAVWzontRNDSAAGOEvpA9ATUAdD0BPQEMBAkECNsFJj6QAEB0W1tbeLbPGxBgBwIBIAgJAAIjAVmtxfaiaGkAAMcJfSB6AmoA6HoCegIYCBIIEbYKTH0gAIDotra28SqB7Z42IMAKAVmsInaiaGkAAMcJfSB6AmoA6HoCegIYCBIIEbYKTH0gAIDotra28SqB7Z42IMALAEKBAQFTAlAzQTP0DG+hlAHXADCSW23iIG6SMHDgIG7y0IAAQIEBASQCcUEz9AxvoZQB1wAwkltt4iBukjBw4CBu8tCAAECBAQEjAnFBM/QMb6GUAdcAMJJbbeIgbpIwcOAgbvLQgAH8WwPTP9P/0//TP9P/MCWBAQEmcUEz9AxvoZQB1wAwkltt4iBukjB/lyBu8tCAwADijkVfBHHIWYIQkqedZFADyx/LP8sHyciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AEADyH8BygBVMFA0zvQAAcj0ABL0AM3J7VTgJ4EBASVxEQCAWwPTPzCBOMb4QiTHBfL0gQEBAX9xIW6VW1n0WjCYyAHPAEEz9ELiQAPIfwHKAFUwUDTO9AAByPQAEvQAzcntVACCWwPT/zCBOMb4QiTHBfL0E4EBAQF/cSFulVtZ9FowmMgBzwBBM/RC4lADyH8BygBVMFA0zvQAAcj0ABL0AM3J7VQA+I5AWwPTPzCBOMb4QiTHBfL0gQEBAXBxIW6VW1n0WjCYyAHPAEEz9ELiQAPIfwHKAFUwUDTO9AAByPQAEvQAzcntVOA1wAAEwSEUsI4p+ELIz4UIznDPC27JgEL7AEADyH8BygBVMFA0zvQAAcj0ABL0AM3J7VTgXwTywIIB/kEz9AxvoZQB1wAwkltt4iBukjB/lyBu8tCAwADijkVfBHLIWYIQkqedZFADyx/LP8sHyciCWMAAAAAAAAAAAAAAAAEBy2fMyXD7AEADyH8BygBVMFA0zvQAAcj0ABL0AM3J7VTggQEBVFkAUnBBM/QMb6GUAdcAMJJbbeJwIW4SAv6zljAgbvLQgJEx4lIgu45FXwRzyFmCEJKnnWRQA8sfyz/LB8nIgljAAAAAAAAAAAAAAAABActnzMlw+wBAA8h/AcoAVTBQNM70AAHI9AAS9ADNye1U4MhSUMs/FMv/Esv/UhDLP8nQm5Mg10qR1eho+QQA2hFYveMCgQEBVBYAExQAiDB0yFmCEJKnnWRQA8sfyz/LB8nIgljAAAAAAAAAAAAAAAABActnzMlw+wBAA8h/AcoAVTBQNM70AAHI9AAS9ADNye1UALBUY4AhbpVbWfRaMJjIAc8AQTP0QuIFyFmCEOufHtVQA8sfyz/LP8nIgljAAAAAAAAAAAAAAAABActnzMlw+wBAA8h/AcoAVTBQNM70AAHI9AAS9ADNye1U","abi":"{\"name\":\"TonSha\",\"types\":[{\"name\":\"DataSize\",\"header\":null,\"fields\":[{\"name\":\"cells\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bits\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"refs\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"SignedBundle\",\"header\":null,\"fields\":[{\"name\":\"signature\",\"type\":{\"kind\":\"simple\",\"type\":\"fixed-bytes\",\"optional\":false,\"format\":64}},{\"name\":\"signedData\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounceable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"MessageParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"DeployParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"init\",\"type\":{\"kind\":\"simple\",\"type\":\"StateInit\",\"optional\":false}}]},{\"name\":\"StdAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":8}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"VarAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":32}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"BasechainAddress\",\"header\":null,\"fields\":[{\"name\":\"hash\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"VerifyReceipt\",\"header\":3490704699,\"fields\":[{\"name\":\"hw_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"fw_hash\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"ex_hash\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"counter\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"digest\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"AuthorizeDevice\",\"header\":668197562,\"fields\":[{\"name\":\"hw_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ApproveFirmware\",\"header\":4048120377,\"fields\":[{\"name\":\"fw_hash\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"RevokeDevice\",\"header\":791324172,\"fields\":[{\"name\":\"hw_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"VerificationPassed\",\"header\":3953073877,\"fields\":[{\"name\":\"hw_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"counter\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"VerificationFailed\",\"header\":2460458340,\"fields\":[{\"name\":\"hw_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"reason\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}}]},{\"name\":\"TonSha$Data\",\"header\":null,\"fields\":[{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"authorized_devices\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"bool\"}},{\"name\":\"approved_firmware\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"bool\"}},{\"name\":\"counters\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"int\"}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"empty\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"VerifyReceipt\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"AuthorizeDevice\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ApproveFirmware\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"RevokeDevice\"}}],\"getters\":[{\"name\":\"isAuthorized\",\"methodId\":104516,\"arguments\":[{\"name\":\"hw_id\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"isApprovedFirmware\",\"methodId\":118957,\"arguments\":[{\"name\":\"fw_hash\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"getCounter\",\"methodId\":103307,\"arguments\":[{\"name\":\"hw_id\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"getOwner\",\"methodId\":102025,\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack underflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"11\":{\"message\":\"'Unknown' error\"},\"12\":{\"message\":\"Fatal error\"},\"13\":{\"message\":\"Out of gas error\"},\"14\":{\"message\":\"Virtualization error\"},\"32\":{\"message\":\"Action list is invalid\"},\"33\":{\"message\":\"Action list is too long\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"35\":{\"message\":\"Invalid source address in outbound message\"},\"36\":{\"message\":\"Invalid destination address in outbound message\"},\"37\":{\"message\":\"Not enough Toncoin\"},\"38\":{\"message\":\"Not enough extra currencies\"},\"39\":{\"message\":\"Outbound message does not fit into a cell after rewriting\"},\"40\":{\"message\":\"Cannot process a message\"},\"41\":{\"message\":\"Library reference is null\"},\"42\":{\"message\":\"Library change action error\"},\"43\":{\"message\":\"Exceeded maximum number of cells in the library or the maximum depth of the Merkle tree\"},\"50\":{\"message\":\"Account state size exceeded limits\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid standard address\"},\"138\":{\"message\":\"Not a basechain address\"},\"14534\":{\"message\":\"Not owner\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\"]}","init":{"kind":"direct","args":[{"name":"owner","type":{"kind":"simple","type":"address","optional":false}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":null}},"sources":{"contracts/ton_sha.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CgptZXNzYWdlIFZlcmlmeVJlY2VpcHQgewogICAgaHdfaWQ6IEludCBhcyB1aW50NjQ7CiAgICBmd19oYXNoOiBJbnQgYXMgdWludDI1NjsKICAgIGV4X2hhc2g6IEludCBhcyB1aW50MjU2OwogICAgY291bnRlcjogSW50IGFzIHVpbnQ2NDsKICAgIGRpZ2VzdDogSW50IGFzIHVpbnQyNTY7Cn0KCm1lc3NhZ2UgQXV0aG9yaXplRGV2aWNlIHsKICAgIGh3X2lkOiBJbnQgYXMgdWludDY0Owp9CgptZXNzYWdlIEFwcHJvdmVGaXJtd2FyZSB7CiAgICBmd19oYXNoOiBJbnQgYXMgdWludDI1NjsKfQoKbWVzc2FnZSBSZXZva2VEZXZpY2UgewogICAgaHdfaWQ6IEludCBhcyB1aW50NjQ7Cn0KCm1lc3NhZ2UgVmVyaWZpY2F0aW9uUGFzc2VkIHsKICAgIGh3X2lkOiBJbnQgYXMgdWludDY0OwogICAgY291bnRlcjogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBWZXJpZmljYXRpb25GYWlsZWQgewogICAgaHdfaWQ6IEludCBhcyB1aW50NjQ7CiAgICByZWFzb246IEludCBhcyB1aW50ODsKfQoKY29udHJhY3QgVG9uU2hhIHsKICAgIG93bmVyOiBBZGRyZXNzOwogICAgYXV0aG9yaXplZF9kZXZpY2VzOiBtYXA8SW50LCBCb29sPjsKICAgIGFwcHJvdmVkX2Zpcm13YXJlOiBtYXA8SW50LCBCb29sPjsKICAgIGNvdW50ZXJzOiBtYXA8SW50LCBJbnQ+OwoKICAgIGluaXQob3duZXI6IEFkZHJlc3MpIHsKICAgICAgICBzZWxmLm93bmVyID0gb3duZXI7CiAgICB9CgogICAgcmVjZWl2ZSgpIHsKICAgICAgICBjYXNoYmFjayhzZW5kZXIoKSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFZlcmlmeVJlY2VpcHQpIHsKICAgICAgICBsZXQgYXV0aDogQm9vbD8gPSBzZWxmLmF1dGhvcml6ZWRfZGV2aWNlcy5nZXQobXNnLmh3X2lkKTsKICAgICAgICBpZiAoYXV0aCA9PSBudWxsIHx8IGF1dGghISA9PSBmYWxzZSkgewogICAgICAgICAgICBlbWl0KFZlcmlmaWNhdGlvbkZhaWxlZHsgaHdfaWQ6IG1zZy5od19pZCwgcmVhc29uOiAxIH0udG9DZWxsKCkpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBsZXQgZnc6IEJvb2w/ID0gc2VsZi5hcHByb3ZlZF9maXJtd2FyZS5nZXQobXNnLmZ3X2hhc2gpOwogICAgICAgIGlmIChmdyA9PSBudWxsIHx8IGZ3ISEgPT0gZmFsc2UpIHsKICAgICAgICAgICAgZW1pdChWZXJpZmljYXRpb25GYWlsZWR7IGh3X2lkOiBtc2cuaHdfaWQsIHJlYXNvbjogMiB9LnRvQ2VsbCgpKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgbGV0IGxhc3Q6IEludD8gPSBzZWxmLmNvdW50ZXJzLmdldChtc2cuaHdfaWQpOwogICAgICAgIGxldCBsYXN0VmFsOiBJbnQgPSAwOwogICAgICAgIGlmIChsYXN0ICE9IG51bGwpIHsgbGFzdFZhbCA9IGxhc3QhITsgfQogICAgICAgIGlmIChtc2cuY291bnRlciA8PSBsYXN0VmFsKSB7CiAgICAgICAgICAgIGVtaXQoVmVyaWZpY2F0aW9uRmFpbGVkeyBod19pZDogbXNnLmh3X2lkLCByZWFzb246IDMgfS50b0NlbGwoKSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIEdhdGUgNDogZGlnZXN0ID0gc2hhMjU2IG9mIHBhY2tlZCBjZWxsIChtYXRjaGVzIG9uLWNoYWluIGNvbXB1dGF0aW9uKQogICAgICAgIGxldCBiOiBCdWlsZGVyID0gYmVnaW5DZWxsKCk7CiAgICAgICAgYiA9IGIuc3RvcmVVaW50KG1zZy5od19pZCwgNjQpOwogICAgICAgIGIgPSBiLnN0b3JlVWludChtc2cuZndfaGFzaCwgMjU2KTsKICAgICAgICBiID0gYi5zdG9yZVVpbnQobXNnLmV4X2hhc2gsIDI1Nik7CiAgICAgICAgYiA9IGIuc3RvcmVVaW50KG1zZy5jb3VudGVyLCA2NCk7CiAgICAgICAgbGV0IGV4cGVjdGVkOiBJbnQgPSBzaGEyNTYoYi5lbmRDZWxsKCkuYmVnaW5QYXJzZSgpKTsKCiAgICAgICAgaWYgKGV4cGVjdGVkICE9IG1zZy5kaWdlc3QpIHsKICAgICAgICAgICAgZW1pdChWZXJpZmljYXRpb25GYWlsZWR7IGh3X2lkOiBtc2cuaHdfaWQsIHJlYXNvbjogNCB9LnRvQ2VsbCgpKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgc2VsZi5jb3VudGVycy5zZXQobXNnLmh3X2lkLCBtc2cuY291bnRlcik7CiAgICAgICAgZW1pdChWZXJpZmljYXRpb25QYXNzZWR7IGh3X2lkOiBtc2cuaHdfaWQsIGNvdW50ZXI6IG1zZy5jb3VudGVyIH0udG9DZWxsKCkpOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBBdXRob3JpemVEZXZpY2UpIHsKICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYub3duZXIsICJOb3Qgb3duZXIiKTsKICAgICAgICBzZWxmLmF1dGhvcml6ZWRfZGV2aWNlcy5zZXQobXNnLmh3X2lkLCB0cnVlKTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogQXBwcm92ZUZpcm13YXJlKSB7CiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLm93bmVyLCAiTm90IG93bmVyIik7CiAgICAgICAgc2VsZi5hcHByb3ZlZF9maXJtd2FyZS5zZXQobXNnLmZ3X2hhc2gsIHRydWUpOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBSZXZva2VEZXZpY2UpIHsKICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYub3duZXIsICJOb3Qgb3duZXIiKTsKICAgICAgICBzZWxmLmF1dGhvcml6ZWRfZGV2aWNlcy5zZXQobXNnLmh3X2lkLCBmYWxzZSk7CiAgICB9CgogICAgZ2V0IGZ1biBpc0F1dGhvcml6ZWQoaHdfaWQ6IEludCk6IEJvb2wgewogICAgICAgIGxldCB2OiBCb29sPyA9IHNlbGYuYXV0aG9yaXplZF9kZXZpY2VzLmdldChod19pZCk7CiAgICAgICAgaWYgKHYgPT0gbnVsbCkgeyByZXR1cm4gZmFsc2U7IH0KICAgICAgICByZXR1cm4gdiEhOwogICAgfQoKICAgIGdldCBmdW4gaXNBcHByb3ZlZEZpcm13YXJlKGZ3X2hhc2g6IEludCk6IEJvb2wgewogICAgICAgIGxldCB2OiBCb29sPyA9IHNlbGYuYXBwcm92ZWRfZmlybXdhcmUuZ2V0KGZ3X2hhc2gpOwogICAgICAgIGlmICh2ID09IG51bGwpIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgICAgcmV0dXJuIHYhITsKICAgIH0KCiAgICBnZXQgZnVuIGdldENvdW50ZXIoaHdfaWQ6IEludCk6IEludCB7CiAgICAgICAgbGV0IHY6IEludD8gPSBzZWxmLmNvdW50ZXJzLmdldChod19pZCk7CiAgICAgICAgaWYgKHYgPT0gbnVsbCkgeyByZXR1cm4gMDsgfQogICAgICAgIHJldHVybiB2ISE7CiAgICB9CgogICAgZ2V0IGZ1biBnZXRPd25lcigpOiBBZGRyZXNzIHsKICAgICAgICByZXR1cm4gc2VsZi5vd25lcjsKICAgIH0KfQo="},"compiler":{"name":"tact","version":"1.6.13","parameters":"{\"entrypoint\":\"contracts/ton_sha.tact\",\"options\":{\"debug\":false,\"external\":false}}"}}